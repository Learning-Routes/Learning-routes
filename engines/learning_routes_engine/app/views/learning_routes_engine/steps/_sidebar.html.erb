<aside class="hidden xl:block w-72 flex-shrink-0">
  <div class="sticky top-20 space-y-4">
    <!-- Step info card -->
    <div class="bg-gray-900 border border-white/[0.06] rounded-xl p-4">
      <h3 class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3">Step Info</h3>
      <div class="space-y-2 text-sm">
        <div class="flex justify-between">
          <span class="text-gray-500">Type</span>
          <span class="text-gray-300"><%= @step.content_type.capitalize %></span>
        </div>
        <div class="flex justify-between">
          <span class="text-gray-500">Level</span>
          <span class="text-gray-300"><%= @step.level.upcase %></span>
        </div>
        <% if @step.estimated_minutes.to_i > 0 %>
          <div class="flex justify-between">
            <span class="text-gray-500">Duration</span>
            <span class="text-gray-300">~<%= @step.estimated_minutes %> min</span>
          </div>
        <% end %>
        <% if @step.bloom_level.to_i > 0 %>
          <div class="flex justify-between">
            <span class="text-gray-500">Bloom's</span>
            <span class="text-gray-300"><%= Assessments::Question::BLOOM_LEVELS[@step.bloom_level.to_i] rescue "Level #{@step.bloom_level}" %></span>
          </div>
        <% end %>
      </div>
    </div>

    <!-- Notes -->
    <%= render "notes" %>

    <!-- Progress overview -->
    <div class="bg-gray-900 border border-white/[0.06] rounded-xl p-4">
      <h3 class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3">Progress</h3>
      <div class="text-center">
        <div class="text-2xl font-bold text-white"><%= @progress[:percentage] %>%</div>
        <div class="text-xs text-gray-500 mt-1"><%= @progress[:completed_steps] %>/<%= @progress[:total_steps] %> steps</div>
      </div>
      <div class="h-1.5 bg-gray-800 rounded-full overflow-hidden mt-3">
        <div class="h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full"
             style="width: <%= @progress[:percentage] %>%"></div>
      </div>
    </div>
  </div>
</aside>
