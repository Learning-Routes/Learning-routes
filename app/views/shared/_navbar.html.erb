<nav data-controller="navbar" class="fixed top-0 left-0 right-0 z-[100]">
  <div data-navbar-target="bar"
       class="flex items-center justify-between h-[58px] px-[clamp(1.5rem,5vw,4rem)] border-b border-transparent transition-all duration-300">

    <%# === Logo === %>
    <%= link_to root_path, class: "flex items-center gap-[0.55rem] no-underline" do %>
      <div class="w-[26px] h-[26px] rounded-[7px] bg-accent flex items-center justify-center">
        <svg width="12" height="12" viewBox="0 0 12 12" fill="none">
          <path d="M6 1L6 11M6 1L2 5M6 1L10 5M6 11L3 8M6 11L9 8"
                stroke="#F5F1EB" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <span class="font-sans font-bold text-[0.92rem] tracking-[-0.5px] text-txt">Learning Routes</span>
    <% end %>

    <%# === Desktop links === %>
    <div class="hidden md:flex items-center gap-[clamp(1rem,3vw,2.5rem)]">
      <% %w[Producto Precios].each do |label| %>
        <a href="#" class="font-sans text-[0.8rem] font-medium text-muted hover:text-txt transition-colors duration-200">
          <%= label %>
        </a>
      <% end %>

      <% if current_user %>
        <%= link_to "Dashboard", dashboard_path,
            class: "font-sans text-[0.8rem] font-medium text-muted hover:text-txt transition-colors duration-200" %>
      <% else %>
        <%= link_to "Iniciar sesi\u00F3n", core.sign_in_path,
            class: "font-sans text-[0.8rem] font-medium text-muted hover:text-txt transition-colors duration-200" %>
      <% end %>

      <% if current_user %>
        <%= link_to "Dashboard", dashboard_path,
            class: "inline-flex items-center justify-center font-sans text-[0.8rem] font-semibold
                    bg-accent text-accent-text px-[1.15rem] py-[0.48rem] rounded-btn btn-shadow
                    hover-lift tracking-[-0.2px]" %>
      <% else %>
        <%= link_to "Empezar", core.sign_up_path,
            class: "inline-flex items-center justify-center font-sans text-[0.8rem] font-semibold
                    bg-accent text-accent-text px-[1.15rem] py-[0.48rem] rounded-btn btn-shadow
                    hover-lift tracking-[-0.2px]" %>
      <% end %>
    </div>

    <%# === Mobile hamburger === %>
    <button data-action="navbar#toggleMenu" class="md:hidden p-2 -mr-2 text-txt" aria-label="Menu">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round">
        <path d="M3 6h14M3 10h14M3 14h14"/>
      </svg>
    </button>
  </div>

  <%# === Mobile menu === %>
  <div data-navbar-target="menu"
       class="hidden md:hidden bg-card border-b border-lr px-[clamp(1.5rem,5vw,4rem)] pb-5 pt-2">
    <div class="flex flex-col gap-3">
      <% %w[Producto Precios].each do |label| %>
        <a href="#" data-action="navbar#closeMenu"
           class="font-sans text-[0.88rem] font-medium text-sub hover:text-txt transition-colors py-1">
          <%= label %>
        </a>
      <% end %>

      <% if current_user %>
        <%= link_to "Dashboard", dashboard_path,
            data: { action: "navbar#closeMenu" },
            class: "font-sans text-[0.88rem] font-medium text-sub hover:text-txt transition-colors py-1" %>
      <% else %>
        <%= link_to "Iniciar sesi\u00F3n", core.sign_in_path,
            data: { action: "navbar#closeMenu" },
            class: "font-sans text-[0.88rem] font-medium text-sub hover:text-txt transition-colors py-1" %>
      <% end %>

      <div class="pt-2">
        <% if current_user %>
          <%= link_to "Dashboard", dashboard_path,
              class: "inline-flex items-center justify-center font-sans text-[0.85rem] font-semibold
                      bg-accent text-accent-text px-5 py-2.5 rounded-btn btn-shadow w-full" %>
        <% else %>
          <%= link_to "Empezar", core.sign_up_path,
              class: "inline-flex items-center justify-center font-sans text-[0.85rem] font-semibold
                      bg-accent text-accent-text px-5 py-2.5 rounded-btn btn-shadow w-full" %>
        <% end %>
      </div>
    </div>
  </div>
</nav>
