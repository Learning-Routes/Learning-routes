<%#
  CTA Section â€” dark card with heading + inverted button.
%>

<section style="max-width: 720px; margin: 0 auto; padding: 0 clamp(0.5rem,2vw,1.5rem) 5rem;">
  <div style="display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 1.5rem;
              padding: 2.8rem clamp(2rem,5vw,3.5rem);
              border-radius: 20px;
              background: linear-gradient(135deg, #2C261E 0%, #342E24 100%);
              box-shadow: 0 6px 30px rgba(28,24,18,0.15);">

    <%# Left: copy %>
    <div>
      <h2 style="font-family: 'DM Sans', sans-serif; font-weight: 700;
                 font-size: clamp(1.3rem,2.8vw,1.65rem); letter-spacing: -0.7px;
                 line-height: 1.2; color: #F5F1EB; margin: 0;">
        <% if current_user && @active_route %>
          <%= t("cta.headline_active") %>
        <% else %>
          <%= t("cta.headline") %>
        <% end %>
      </h2>
      <p style="font-family: 'DM Sans', sans-serif; font-size: 0.84rem;
                color: rgba(245,241,235,0.4); margin: 0.5rem 0 0 0;">
        <% if current_user && @active_route %>
          <%= t("cta.subtext_active", topic: @active_route.localized_topic) %>
        <% else %>
          <%= t("cta.subtext") %>
        <% end %>
      </p>
    </div>

    <%# Right: button %>
    <% if current_user %>
      <%= link_to t("cta.button_active"), dashboard_path,
          style: "display: inline-flex; align-items: center; justify-content: center;
                 font-family: 'DM Sans', sans-serif; font-size: 0.88rem; font-weight: 600;
                 padding: 0.72rem 1.9rem; border-radius: 11px;
                 background: #F5F1EB; color: #2C261E; text-decoration: none;
                 white-space: nowrap; flex-shrink: 0;
                 box-shadow: 0 2px 6px rgba(28,24,18,0.08);
                 transition: all 0.2s ease;" %>
    <% else %>
      <%= link_to t("cta.button"), core.sign_up_path,
          style: "display: inline-flex; align-items: center; justify-content: center;
                 font-family: 'DM Sans', sans-serif; font-size: 0.88rem; font-weight: 600;
                 padding: 0.72rem 1.9rem; border-radius: 11px;
                 background: #F5F1EB; color: #2C261E; text-decoration: none;
                 white-space: nowrap; flex-shrink: 0;
                 box-shadow: 0 2px 6px rgba(28,24,18,0.08);
                 transition: all 0.2s ease;" %>
    <% end %>

  </div>
</section>
