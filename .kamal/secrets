# Secrets for Kamal deployment
# All secrets pulled from ENV or .env file â€” no raw credentials here.

# Source .env file if present (contains DATABASE_URL, registry creds, etc.)
if [ -f .env ]; then
  set -a
  . .env
  set +a
fi

# Docker Hub
KAMAL_REGISTRY_USERNAME=$KAMAL_REGISTRY_USERNAME
KAMAL_REGISTRY_PASSWORD=$KAMAL_REGISTRY_PASSWORD

# Rails master key
RAILS_MASTER_KEY=$(cat config/master.key 2>/dev/null || echo $RAILS_MASTER_KEY)

# Neon Database (production)
DATABASE_URL=$DATABASE_URL
DATABASE_CACHE_URL=$DATABASE_CACHE_URL
DATABASE_QUEUE_URL=$DATABASE_QUEUE_URL
DATABASE_CABLE_URL=$DATABASE_CABLE_URL
